<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player_body</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//MOV VARIABLES
//friction = 0.2

//CONTROL VARIABLES
//controlDevice = KEYBOARD
//controlDevice = GAMEPAD

//GAMEPAD VARIABLES
xaxis     = 0;
yaxis     = 0;


//-----Game Logic stats--------

global.isMoving         = false;
global.playerMouseAngle = 45;
global.playerMouseAngleLAST = 45;
global.playerImageSpeed = 0.15;
//-----------------------------

//-----PLAYER------------------
global.playerHP = 5;
global.playerStaminaMax = 10
global.playerStaminaCur = 10;
global.playerStaminaRegenRate = 0.04;
//-----------------------------

//-----WEAPONS-----------------
//Crossbow
global.canShootBolts    = true;
global.shootBoltsCD     = 20;
global.boltSpeed        = 3.5;
global.rangedDamage     = 1;

//Sword
global.canSwingSword = true;
global.swordSwingCD = 20;
global.swordStaminaCost = 3;
global.swordSwingSpeed = 10;
global.swordSwingDuration = 15;
global.swordPhase1 = true;
global.swordPhase2 = false
global.swordPhase3 = false;
//-----------------------------

//INVENTORY ITEMS
global.helmet_Equipped    = 0;
global.belt_Equipped      = 0;
global.glove_Equipped     = 0;
global.boot_Equipped      = 0;
global.chest_Equipped     = 0;
global.shoulders_Equipped = 0;

//DRAW variables
hopVar = 0;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>    if (hopVar == 0)
       hopVar = -1;
    if (hopVar == -1)
       hopVar = 0;



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Sword timers 2
global.swordPhase1 = true;
global.swordPhase2 = false;
global.swordPhase3 = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Sword Timers
global.swordPhase2 = false;
global.swordPhase1 = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// canShootBolts = true
global.canShootBolts = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///MAIN STEP EVENT

//MOVEMENT SCRIPTS
script_execute(scr_KB_Movement, 0.05, 0.2, 1); //friction, speedGain, speedTop
//script_execute(scr_PAD_Movement, xaxis, yaxis, 0.5, 1 )

//CALCULATE ANGLE BETWEEN PLAYER AND CURSOR POSITION
global.playerMouseAngle = point_direction(x, y, mouse_x, mouse_y)


//PLAYER IMAGE SPEED
if (global.isMoving == false)
{
    image_speed = 0;
}
if (global.isMoving == true)
{
   image_speed = global.playerImageSpeed;
}
 
//hopVar logic
if (global.isMoving == true)
{
    hopVar = sin (get_timer() / 50000)
}
else
{
    hopVar = 0;
}



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///SWORD ATTACK LOGIC

if (mouse_check_button_pressed(mb_right) &amp;&amp; global.playerStaminaCur &gt; 1 &amp;&amp; global.canSwingSword == true)
{
    instance_create(x, y, obj_sword);
    global.playerMouseAngleLAST = global.playerMouseAngle;
    global.playerStaminaCur -= global.swordStaminaCost
    if (global.playerStaminaCur &lt; 0)
    {
        global.playerStaminaCur = 0;
    }
}
/*
if (mouse_check_button(mb_right) &amp;&amp; global.swordPhase1 == true)
{
   instance_create(x, y, obj_sword)
   global.swordPhase1 = false;
   global.swordPhase2 = true;
   alarm[1] = 60;
   
}
else if (mouse_check_button(mb_right) &amp;&amp; global.swordPhase2 == true)
{
   instance_create(x, y, obj_sword)
   global.swordPhase2 = false;
   global.swordPhase3 = true;
   alarm[2] = 60;
}
else if (mouse_check_button(mb_right) &amp;&amp; global.swordPhase3 == true)
{
   instance_create(x, y, obj_sword)
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///RANGED COMBAT LOGIC


//WEAPON SHOOTING LOGIC
if( mouse_check_button(mb_left) &amp;&amp; global.canShootBolts == true)
{
 instance_create(x + 8, y + 8, obj_bolt);
 global.canShootBolts = false;
 alarm[0] = global.shootBoltsCD;
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///REGENS
if( global.playerStaminaCur &lt; global.playerStaminaMax)
{
    global.playerStaminaCur += global.playerStaminaRegenRate
    if( global.playerStaminaCur &gt; global.playerStaminaMax)
    {
        global.playerStaminaCur = global.playerStaminaMax;
    }
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_knight">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((other.y - y) &gt; 0 )
{
 other.depth = -10;
 depth = -9;
}
else if ((other.y - y) &lt; 0)
{
 other.depth = -9;
 depth = -10;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_item_armor">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///* ARMOR ITEM INTERACTION LOGIC
with (other)
{
    //Filtrate through list of item and equip the specific item
    if (object_get_name(object_index) == "obj_item_helmet")
       global.helmet_Equipped = 1;
    if (object_get_name(object_index) == "obj_item_belt")
       global.belt_Equipped = 1;   
    if (object_get_name(object_index) == "obj_item_glove")
       global.glove_Equipped = 1;   
    if (object_get_name(object_index) == "obj_item_boot")
       global.boot_Equipped = 1;   
    if (object_get_name(object_index) == "obj_item_chest")
       global.chest_Equipped = 1;   
    if (object_get_name(object_index) == "obj_item_shoulders")
       global.shoulders_Equipped = 1;  
          
    //FINALLY DESTROY THE ITEM when it reached the player    
    instance_destroy();

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_block">
      <action>
        <libid>1</libid>
        <id>402</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_collision</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>hspeed</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>103</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_hspeed</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>402</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_collision</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>vspeed</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>104</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_vspeed</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//DRAW PLAYER SHADOW
draw_sprite_ext(spr_shadow, image_index, x + 8, y + 15, image_xscale, image_yscale, image_angle,image_blend, image_alpha * 0.32);

//DRAW PLAYER
draw_sprite_ext( spr_player_body, image_index, x, y + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);



//DRAW PLAYER EQUIPMENT
//--DRAW HELMET---------------------------------------------------------------------------------------------------------------------

if (global.helmet_Equipped == 1)
   draw_sprite_ext( spr_armor_helmet, image_index, x + 3, y - 2 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);
   
if (global.chest_Equipped == 1)
{
   draw_sprite_ext( spr_armor_chest, image_index, x + 4, y + 3 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);
}
if (global.shoulders_Equipped == 1)
   draw_sprite_ext( spr_armor_shoulders, image_index, x + 2, y + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);  
if (global.glove_Equipped == 1)
{
   draw_sprite_ext( spr_armor_glove, image_index, x + 3,  y + 7 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);
   draw_sprite_ext( spr_armor_glove, image_index, x + 11, y + 7 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);
}
if (global.boot_Equipped == 1)
{
   draw_sprite_ext( spr_armor_boot, image_index, x + 4,  y + 10 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);  
   draw_sprite_ext( spr_armor_boot, image_index, x + 11, y + 10 + hopVar, image_xscale * -1, image_yscale, image_angle,image_blend, image_alpha);  
}
if (global.belt_Equipped == 1)
{
   draw_sprite_ext( spr_armor_belt, image_index, x + 4, y + 9 + hopVar, image_xscale, image_yscale, image_angle,image_blend, image_alpha);
}


//DRAW WEAPON
//draw_sprite_ext(spr_weapon, image_index, x - 6, y + 2, image_xscale, image_yscale, image_angle + global.playerMouseAngle,image_blend, image_alpha);


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
